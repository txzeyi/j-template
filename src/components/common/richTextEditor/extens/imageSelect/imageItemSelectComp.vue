<template>
  <transition name="fade">
    <div class="mceImg-popover" v-if="visible && isClick" :style="`top:${top}px;left:${left}px;`">
      <div class="mceImg-popover-item" @click="selectItem('edit')">
        <svg viewBox="0 0 1024 1024" width="18" height="18">
          <path
            d="M915.911111 28.444444a90.453333 90.453333 0 0 0-119.466667 9.102223l-472.177777 500.622222a38.684444 38.684444 0 0 0-10.808889 25.6h-13.653334a158.72 158.72 0 0 0-145.635555 123.448889 284.444444 284.444444 0 0 0 0 76.8v6.257778a81.92 81.92 0 0 1-5.688889 60.302222 45.511111 45.511111 0 0 1-34.702222 11.946666 42.666667 42.666667 0 0 0-37.546667 27.875556 41.528889 41.528889 0 0 0 10.24 45.511111 323.697778 323.697778 0 0 0 215.608889 97.28 224.142222 224.142222 0 0 0 131.982222-43.235555 269.084444 269.084444 0 0 0 90.453334-113.777778 301.511111 301.511111 0 0 0 22.186666-113.777778 40.96 40.96 0 0 0 18.773334-15.36l370.915555-578.56A90.453333 90.453333 0 0 0 915.911111 28.444444z m-469.902222 796.444445a182.044444 182.044444 0 0 1-61.44 76.8 160.995556 160.995556 0 0 1-182.613333 0 129.706667 129.706667 0 0 0 12.515555-13.084445 165.546667 165.546667 0 0 0 23.324445-131.413333 236.657778 236.657778 0 0 1 0-52.337778 56.888889 56.888889 0 0 1 34.133333-40.391111 196.835556 196.835556 0 0 1 122.311111-9.102222l56.888889 46.08a199.68 199.68 0 0 1-5.12 123.448889z m72.817778-182.044445L415.857778 562.631111l440.32-466.488889a6.257778 6.257778 0 0 1 7.395555 0 5.688889 5.688889 0 0 1 0 6.826667z"
            fill="#333333"
            p-id="3916"
          ></path>
        </svg>
        <span class="mceImg-popover-label">编辑</span>
      </div>

      <div class="mceImg-popover-item" @click="selectItem('center')">
        <svg viewBox="0 0 1024 1024" width="18" height="18">
          <path
            d="M647.395556 722.488889H376.604444a113.777778 113.777778 0 0 1-113.777777-113.777778V415.288889a113.777778 113.777778 0 0 1 113.777777-113.777778h270.791112a113.777778 113.777778 0 0 1 113.777777 113.777778v193.422222a113.777778 113.777778 0 0 1-113.777777 113.777778zM376.604444 386.844444a27.875556 27.875556 0 0 0-27.875555 28.444445v193.422222a27.875556 27.875556 0 0 0 27.875555 28.444445h270.791112a27.875556 27.875556 0 0 0 27.875555-28.444445V415.288889a27.875556 27.875556 0 0 0-27.875555-28.444445z m615.537778-232.106666a42.097778 42.097778 0 0 0-42.666666-40.96H74.524444a42.666667 42.666667 0 0 0 0 85.333333h874.951112a42.666667 42.666667 0 0 0 42.666666-44.373333z m0 714.524444a42.666667 42.666667 0 0 0-42.666666-42.666666H74.524444a42.666667 42.666667 0 0 0 0 85.333333h874.951112a42.097778 42.097778 0 0 0 42.666666-42.666667z"
            fill="#333333"
            p-id="4064"
          ></path>
        </svg>
        <span class="mceImg-popover-label">切换为居中</span>
      </div>

      <div class="mceImg-popover-item" @click="selectItem('maxWidth')">
        <svg viewBox="0 0 1024 1024" width="18" height="18">
          <path
            d="M819.2 103.537778H204.8A182.044444 182.044444 0 0 0 22.755556 284.444444v455.111112a182.044444 182.044444 0 0 0 182.044444 182.044444h614.4a182.044444 182.044444 0 0 0 182.044444-182.044444V284.444444a182.044444 182.044444 0 0 0-182.044444-180.906666zM204.8 188.871111h614.4A96.711111 96.711111 0 0 1 915.911111 284.444444v184.888889H108.088889V284.444444a96.711111 96.711111 0 0 1 96.711111-95.573333z m614.4 646.257778H204.8A96.711111 96.711111 0 0 1 108.088889 739.555556V554.666667h807.822222V739.555556a96.711111 96.711111 0 0 1-96.711111 95.573333z"
            fill="#333333"
            p-id="4212"
          ></path>
        </svg>
        <span class="mceImg-popover-label">无缝</span>
      </div>

      <div class="mceImg-popover-item" @click="selectItem('delete')">
        <svg viewBox="0 0 1024 1024" width="18" height="18">
          <path
            d="M249.742222 79.075556a43.235556 43.235556 0 0 1 42.666667-42.666667h439.182222a42.666667 42.666667 0 0 1 0 85.333333H292.408889a43.235556 43.235556 0 0 1-42.666667-42.666666z m160.426667 670.151111a42.666667 42.666667 0 0 0 44.942222-42.666667V470.471111a42.666667 42.666667 0 0 0-85.333333 0v236.088889a42.666667 42.666667 0 0 0 40.391111 42.666667z m203.662222 0a42.666667 42.666667 0 0 0 42.666667-42.666667V470.471111a42.666667 42.666667 0 0 0-85.333334 0v236.088889a42.666667 42.666667 0 0 0 42.666667 42.666667z m364.657778-516.551111a43.235556 43.235556 0 0 1-42.666667 42.666666h-75.093333v488.106667a227.555556 227.555556 0 0 1-224.142222 224.142222H387.413333a227.555556 227.555556 0 0 1-224.142222-224.142222V275.342222H88.177778a42.666667 42.666667 0 0 1 0-85.333333h847.644444a42.666667 42.666667 0 0 1 42.666667 42.666667z m-203.093333 42.666666H248.604444v488.106667a138.808889 138.808889 0 0 0 138.808889 138.808889h249.173334a138.808889 138.808889 0 0 0 138.808889-138.808889z"
            fill="#333333"
            p-id="4360"
          ></path>
        </svg>
        <span class="mceImg-popover-label">删除</span>
      </div>
    </div>
  </transition>
</template>

<script lang="ts">
import { defineComponent } from "vue"

export default defineComponent({
  props: {
    visible: {
      type: Boolean,
      default: false
    },
    top: {
      type: Number,
      default: 0
    },
    left: {
      type: Number,
      default: 0
    },
    isClick: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      top: 0,
      left: 0,
      visible: false
    }
  },
  methods: {
    show(top, left) {
      this.top = top
      this.left = left
      this.visible = true
    },
    hide() {
      this.visible = false
    },
    selectItem(value) {
      this.hide()
      this.$emit("selectItem", value)
    }
  }
})
</script>
<style lang="scss">
.mceImg-popover {
  position: fixed;
  display: flex;
  align-items: center;
  top: 0;
  left: 0;
  width: 412px;
  height: 46px;
  background-color: #fff;
  border-radius: 8px;
  z-index: 100;
  white-space: nowrap;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.14);
  .mceImg-popover-item {
    position: relative;
    display: flex;
    align-items: center;
    padding: 0 16px;
    height: 46px;
    &:hover {
      cursor: pointer;
      background-color: #F8F8F8;
    }
    &+.mceImg-popover-item::after {
      content: " ";
      display: block;
      position: absolute;
      left: 0;
      top: 13px;
      width: 1px;
      height: 20px;
      background-color: #eeeeee;
      z-index: 10;
    }
  }
  .mceImg-popover-label {
    margin-left: 10px;
    font-size: 16px;
    color: #333333;
  }
}
</style>
